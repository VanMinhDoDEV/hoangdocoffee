<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Float Contact Buttons</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    .tooltip-text {
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(10px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .disclaimer-box {
      animation: slideUp 0.4s ease-out;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .float-btn:hover {
      transform: scale(1.1);
    }
    
    .float-btn {
      transition: all 0.3s ease;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="w-full h-full overflow-auto"><!-- Main Content -->
   <main id="mainContent" class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-full flex items-center justify-center p-8">
    <div class="text-center">
     <h1 class="text-4xl font-bold text-gray-800 mb-4">Website Demo</h1>
     <p class="text-gray-600 text-lg">N·ªôi dung website c·ªßa b·∫°n ·ªü ƒë√¢y</p>
     <p class="text-gray-500 text-sm mt-4">Li√™n h·ªá qua c√°c n√∫t b√™n ph·∫£i üëâ</p>
    </div>
   </main><!-- Disclaimer Box (shows only on first visit) -->
   <div id="disclaimerBox" class="disclaimer-box fixed bottom-32 right-6 bg-white rounded-xl shadow-2xl p-4 max-w-xs z-40 hidden"><button id="closeDisclaimer" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600 transition-colors"> √ó </button>
    <div class="flex items-start gap-3">
     <div class="flex-shrink-0 mt-1">
      <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
     </div>
     <p id="disclaimerText" class="text-sm text-gray-700 leading-relaxed">ƒê√¢y l√† d·ªØ li·ªáu demo, ch√∫ng t√¥i kh√¥ng kinh doanh c√°c s·∫£n ph·∫©m tr√™n. C√≥ th·∫Øc m·∫Øc g√¨ xin vui l√≤ng li√™n h·ªá.</p>
    </div>
   </div><!-- Floating Action Buttons -->
   <div class="fixed bottom-6 right-6 z-50"><!-- Child Buttons (Hidden by default) -->
    <div id="childButtons" class="flex flex-col gap-3 mb-3 opacity-0 pointer-events-none transition-all duration-300"><!-- Zalo Button --> <a id="zaloBtn" href="https://zalo.me/0123456789" target="_blank" rel="noopener noreferrer" class="float-btn bg-blue-500 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:shadow-xl group relative transform scale-0 transition-transform duration-300">
      <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 460.1 436.6" fill="currentColor"><path d="M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z" />
      </svg><span class="tooltip-text absolute right-16 bg-gray-800 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"> Chat Zalo </span> </a> <!-- Phone Button --> <a id="phoneBtn" href="tel:0123456789" class="float-btn bg-green-500 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:shadow-xl group relative transform scale-0 transition-transform duration-300">
      <svg class="w-7 h-7" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
      </svg><span class="tooltip-text absolute right-16 bg-gray-800 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"> G·ªçi ƒëi·ªán </span> </a>
    </div><!-- Main Parent Button --> <button id="mainFloatBtn" class="float-btn bg-red-500 text-white rounded-full w-16 h-16 flex items-center justify-center shadow-xl hover:shadow-2xl group relative">
     <svg id="mainIcon" class="w-8 h-8 transition-transform duration-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
     </svg><span class="tooltip-text absolute right-20 bg-gray-800 text-white px-3 py-1.5 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"> Li√™n h·ªá </span> </button>
   </div>
  </div>
  <script>
    const defaultConfig = {
      disclaimer_message: "ƒê√¢y l√† d·ªØ li·ªáu demo, ch√∫ng t√¥i kh√¥ng kinh doanh c√°c s·∫£n ph·∫©m tr√™n. C√≥ th·∫Øc m·∫Øc g√¨ xin vui l√≤ng li√™n h·ªá.",
      phone_number: "0123456789",
      zalo_link: "https://zalo.me/0123456789",
      background_color: "#EFF6FF",
      surface_color: "#FFFFFF",
      text_color: "#1F2937",
      primary_color: "#EF4444"
    };

    const SESSION_KEY = 'disclaimer_shown';

    function showDisclaimer() {
      const disclaimerBox = document.getElementById('disclaimerBox');
      disclaimerBox.classList.remove('hidden');
      
      // Auto hide after 8 seconds
      setTimeout(() => {
        hideDisclaimer();
      }, 8000);
    }

    function hideDisclaimer() {
      const disclaimerBox = document.getElementById('disclaimerBox');
      disclaimerBox.classList.add('hidden');
      sessionStorage.setItem(SESSION_KEY, 'true');
    }

    function initDisclaimer() {
      // Check if user has seen the disclaimer in this session
      if (!sessionStorage.getItem(SESSION_KEY)) {
        setTimeout(() => {
          showDisclaimer();
        }, 1000);
      }
      
      // Close button handler
      document.getElementById('closeDisclaimer').addEventListener('click', hideDisclaimer);
    }

    function toggleMenu() {
      const childButtons = document.getElementById('childButtons');
      const mainIcon = document.getElementById('mainIcon');
      const zaloBtn = document.getElementById('zaloBtn');
      const phoneBtn = document.getElementById('phoneBtn');
      
      const isOpen = childButtons.classList.contains('opacity-100');
      
      if (isOpen) {
        // Close menu
        childButtons.classList.remove('opacity-100');
        childButtons.classList.add('opacity-0', 'pointer-events-none');
        zaloBtn.classList.remove('scale-100');
        zaloBtn.classList.add('scale-0');
        phoneBtn.classList.remove('scale-100');
        phoneBtn.classList.add('scale-0');
        mainIcon.style.transform = 'rotate(0deg)';
      } else {
        // Open menu
        childButtons.classList.remove('opacity-0', 'pointer-events-none');
        childButtons.classList.add('opacity-100');
        setTimeout(() => {
          phoneBtn.classList.remove('scale-0');
          phoneBtn.classList.add('scale-100');
        }, 50);
        setTimeout(() => {
          zaloBtn.classList.remove('scale-0');
          zaloBtn.classList.add('scale-100');
        }, 100);
        mainIcon.style.transform = 'rotate(45deg)';
      }
    }

    function updateUI(config) {
      const disclaimerText = document.getElementById('disclaimerText');
      const disclaimerBox = document.getElementById('disclaimerBox');
      const mainContent = document.getElementById('mainContent');
      const zaloBtn = document.getElementById('zaloBtn');
      const phoneBtn = document.getElementById('phoneBtn');

      // Update text content
      disclaimerText.textContent = config.disclaimer_message || defaultConfig.disclaimer_message;
      
      // Update links
      const phoneNumber = config.phone_number || defaultConfig.phone_number;
      const zaloLink = config.zalo_link || defaultConfig.zalo_link;
      
      phoneBtn.href = `tel:${phoneNumber}`;
      zaloBtn.href = zaloLink;

      // Apply colors
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_color || defaultConfig.primary_color;

      mainContent.style.background = `linear-gradient(to bottom right, ${bgColor}, ${bgColor}dd)`;
      disclaimerBox.style.backgroundColor = surfaceColor;
      disclaimerText.style.color = textColor;
      zaloBtn.style.backgroundColor = primaryColor;
      phoneBtn.style.backgroundColor = primaryColor;
      
      const mainFloatBtn = document.getElementById('mainFloatBtn');
      if (mainFloatBtn) {
        mainFloatBtn.style.backgroundColor = primaryColor;
      }
    }

    async function onConfigChange(config) {
      updateUI(config);
    }

    // Initialize disclaimer
    initDisclaimer();
    
    // Main button toggle handler
    document.getElementById('mainFloatBtn').addEventListener('click', toggleMenu);

    // Initialize Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                window.elementSdk.config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                window.elementSdk.config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                window.elementSdk.config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_color || defaultConfig.primary_color,
              set: (value) => {
                window.elementSdk.config.primary_color = value;
                window.elementSdk.setConfig({ primary_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ['disclaimer_message', config.disclaimer_message || defaultConfig.disclaimer_message],
          ['phone_number', config.phone_number || defaultConfig.phone_number],
          ['zalo_link', config.zalo_link || defaultConfig.zalo_link]
        ])
      });

      // Apply initial config
      updateUI(window.elementSdk.config);
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b3f09969396b42b',t:'MTc2NjczNTk1Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
